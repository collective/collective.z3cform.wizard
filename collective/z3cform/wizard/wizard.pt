<style type="text/css">
.wizard-buttons {
    text-align: right;
}
ul.wizard-steps {
    text-align: center;
}
ul.wizard-steps li {
    display: inline;
    margin-right: 1em;
}
.wizard-step-link.selected {
    font-weight: bold;
    font-size: 120%;
}
.fieldErrorBox .error {
    border: none;
    padding: 0;
}
</style>

<ul class="wizard-steps">
    <li tal:repeat="step view/activeSteps"
        class="wizard-step-link"
        tal:attributes="class python:'wizard-step-link' + ((step is view.currentStep) and ' selected' or '')">
        <a tal:omit-tag="python:not step.available or step is view.currentStep"
           tal:content="string:${repeat/step/number}. ${step/label}"
           tal:attributes="href string:${view/absolute_url}?step:int=${repeat/step/index}">
            Link to step
        </a>
    </li>
</ul>

<div class="form" tal:condition="view/finished">
  <div class="portalMessage"
       tal:condition="view/status" tal:content="view/status">
  </div>
</div>

<div class="form" tal:condition="not:view/finished">

  <div class="description"
       tal:condition="view/description"
       tal:content="structure view/description">Form description</div>

  <div class="portalMessage"
       tal:condition="view/status" tal:content="view/status">
  </div>

  <tal:comment condition="nothing">
    <ul tal:define="errors view/currentStep/widgets/errors"
        tal:condition="errors">
      <li tal:repeat="error errors">
        <tal:block replace="error/widget/label"/>:
        <tal:block replace="structure error/render" />
      </li>
    </ul>
  </tal:comment>

  <form action="." method="post" tal:attributes="action request/getURL">
    <tal:form define="form nocall:view/currentStep">
      <h2 tal:condition="form/label" tal:content="form/label">
        Subform title
      </h2>
      
      <p class="discreet" tal:content="form/description"/>
      
      <div tal:replace="structure form/render" />
    </tal:form>

    <hr/>
    <div class="wizard-buttons">
        <div class="action" tal:repeat="action view/actions/values">
          <input type="submit" tal:replace="structure action/render"/>
        </div>
    </div>
  </form>
</div>
